```javascript
function solution(a) {
  if (a.length < 3) return a.length;

  let answer = 0;
  let leftArray = [];
  let rightArray = [];
  let leftMin = a[0];
  let rightMin = a[a.length - 1];

  for (let i = 0; i < a.length; i++) {
    leftMin = leftMin < a[i] ? leftMin : a[i];
    leftArray.push(leftMin);

    rightMin = rightMin < a[a.length - 1 - i] ? rightMin : a[a.length - 1 - i];
    rightArray.push(rightMin);
  }

  rightArray.reverse();

  for (let i = 0; i < a.length; i++) {
    const left = leftArray[i];
    const right = rightArray[i];
    const target = a[i];

    if (!(left < target && right < target)) answer++;
  }

  return answer;
}

// const a = [-16, 27, 65, -2, 58, -92, -71, -68, -61, -33];
// solution(a);
```
